{% extends 'base.html.twig' %}

{% block title %}Dèmè Travel - Agence Hajj et Omra Professionnelle{% endblock %}

{% block body %}
<!-- Hero Section with Split Layout -->
<section class="hero-section">
    <div class="hero-container">
        <!-- Left Side - Photos Carousel -->
        <div class="hero-photos">
            <div class="carousel-container">
                <div class="carousel-slide active" style="background-image: url('/assets/images/carousel/photos/omra1.webp')"></div>
                <div class="carousel-slide" style="background-image: url('/assets/images/carousel/photos/omra2.webp')"></div>
                <div class="carousel-slide" style="background-image: url('/assets/images/carousel/photos/omra3.webp')"></div>
                <div class="carousel-slide" style="background-image: url('/assets/images/carousel/photos/omra4.webp')"></div>
                <div class="carousel-slide" style="background-image: url('/assets/images/carousel/photos/omra5.webp')"></div>
            </div>
            <!-- Carousel Indicators -->
            <div class="carousel-indicators">
                <div class="indicator active" data-slide="0"></div>
                <div class="indicator" data-slide="1"></div>
                <div class="indicator" data-slide="2"></div>
                <div class="indicator" data-slide="3"></div>
                <div class="indicator" data-slide="4"></div>
            </div>
        </div>
        
        <!-- Right Side - Content -->
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    <span class="hero-subtitle">Agence Hajj et Omra</span>
                    <span class="hero-main-title">Dèmè Travel</span>
                </h1>
                <p class="hero-description">
                    Votre partenaire de confiance pour accomplir votre pèlerinage sacré. 
                    Plus de 10 ans d'expérience dans l'organisation de voyages spirituels.
                </p>
                <div class="hero-actions">
                    <a href="{{ path('app_packages_index') }}" class="btn btn-primary btn-large">
                        <span class="btn-icon">🕌</span>
                        Découvrir nos packages
                    </a>
                    <a href="{{ path('app_contact') }}" class="btn btn-secondary btn-large">
                        <span class="btn-icon">📞</span>
                        Nous contacter
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features-section">
    <div class="container">
        <div class="section-header">
            <h2>Pourquoi choisir Dèmè Travel ?</h2>
            <p>Notre expertise et notre engagement pour votre satisfaction</p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">🏆</div>
                <h3>Expertise Reconnue</h3>
                <p>Plus de 10 ans d'expérience dans l'organisation de pèlerinages avec des milliers de pèlerins satisfaits.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">🛡️</div>
                <h3>Sécurité Garantie</h3>
                <p>Agence certifiée et agréée par les autorités saoudiennes. Votre sécurité est notre priorité absolue.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">💰</div>
                <h3>Prix Transparents</h3>
                <p>Pas de mauvaises surprises ! Nos prix sont clairs et incluent tous les services essentiels.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">👥</div>
                <h3>Accompagnement Personnalisé</h3>
                <p>Équipe bilingue disponible 24h/24 pour vous accompagner tout au long de votre voyage.</p>
            </div>
        </div>
    </div>
</section>

<!-- Packages Preview Section -->
<section class="packages-section">
    <div class="container">
        <div class="section-header">
            <h2>Nos Packages Populaires</h2>
            <p>Découvrez nos offres les plus demandées</p>
        </div>
        <div class="packages-preview">
            {% for package in packages|slice(0, 3) %}
            <div class="package-preview-card">
                <div class="package-preview-image">
                    {% if package_has_images(package) %}
                        <img src="{{ package_first_image(package) }}?v={{ "now"|date("U") }}" alt="{{ package.titre }}">
                    {% else %}
                        <div class="package-preview-placeholder">🕌</div>
                    {% endif %}
                    <div class="package-preview-badge">
                        <span class="badge-text">{{ package.dureeJours }} jours</span>
                    </div>
                </div>
                <div class="package-preview-content">
                    <h3>{{ package.titre }}</h3>
                    <div class="package-preview-features">
                        <span class="feature">✈️ Vol inclus</span>
                        <span class="feature">🏨 Hôtels 4*</span>
                        <span class="feature">📋 Visa inclus</span>
                    </div>
                    <div class="package-preview-price">
                        <span class="price-label">À partir de</span>
                        <span class="price-amount">{{ package.prixBase|number_format(0, ',', ' ') }}</span>
                        <span class="price-currency">{{ package.devise|default('XOF') }}</span>
                    </div>
                    <a href="{{ path('app_package_show', {'slug': package.slug}) }}" class="btn btn-outline">
                        Voir les détails
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="packages-cta">
            <a href="{{ path('app_packages_index') }}" class="btn btn-primary btn-large">
                Voir tous nos packages
            </a>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section">
    <div class="container">
        <div class="section-header">
            <h2>Témoignages de nos pèlerins</h2>
            <p>Ce que disent nos clients satisfaits</p>
        </div>
        <div class="testimonials-grid">
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"Un voyage exceptionnel ! L'équipe de Dèmè Travel a été parfaite du début à la fin. Tout était bien organisé et nous nous sommes sentis en sécurité."</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">👤</div>
                    <div class="author-info">
                        <h4>Fatou Diallo</h4>
                        <span>Omra Mars 2024</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"Je recommande vivement Dèmè Travel ! Prix transparents, accompagnement de qualité et une expérience spirituelle inoubliable."</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">👤</div>
                    <div class="author-info">
                        <h4>Mamadou Koné</h4>
                        <span>Hajj 2023</span>
                    </div>
                </div>
            </div>
            <div class="testimonial-card">
                <div class="testimonial-content">
                    <p>"Agence sérieuse et professionnelle. Les hôtels étaient excellents et proches des mosquées. Un service client remarquable !"</p>
                </div>
                <div class="testimonial-author">
                    <div class="author-avatar">👤</div>
                    <div class="author-info">
                        <h4>Aissatou Barry</h4>
                        <span>Omra Décembre 2023</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2>Prêt pour votre pèlerinage ?</h2>
            <p>Contactez-nous dès maintenant pour planifier votre voyage spirituel</p>
            <div class="cta-actions">
                <a href="{{ path('app_contact') }}" class="btn btn-primary btn-large">
                    <span class="btn-icon">📞</span>
                    Nous contacter
                </a>
                <a href="{{ path('app_packages_index') }}" class="btn btn-secondary btn-large">
                    <span class="btn-icon">🕌</span>
                    Voir nos packages
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block stylesheets %}
<style>
/* Variables CSS - Harmonisé avec la navbar admin */
:root {
    --color-primary: #1e3a8a;     /* Bleu nuit - même que navbar admin */
    --color-secondary: #f59e0b;   /* Or doux - même que navbar admin */
    --color-accent: #fbbf24;      /* Sable */
    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-danger: #ef4444;
    --color-dark: #1f2937;
    --color-light: #f8fafc;
    --color-gray: #6b7280;
    --color-white: #ffffff;
    
    --gradient-primary: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    --gradient-hero: linear-gradient(135deg, rgba(30, 58, 138, 0.9), rgba(245, 158, 11, 0.8));
    
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    
    --border-radius: 0.75rem;
    --border-radius-lg: 1rem;
    --border-radius-xl: 1.5rem;
}

/* Reset et base */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    color: var(--color-dark);
    background-color: var(--color-light);
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

/* Hero Section with Split Layout */
.hero-section {
    position: relative;
    min-height: 80vh;
    background: var(--color-light);
}

.hero-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    min-height: 80vh;
    max-width: 1400px;
    margin: 0 auto;
}

/* Left Side - Photos */
.hero-photos {
    position: relative;
    overflow: hidden;
    border-radius: 0 var(--border-radius-lg) var(--border-radius-lg) 0;
}

.carousel-container {
    position: relative;
    width: 100%;
    height: 100%;
}

.carousel-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
    filter: brightness(0.9) contrast(1.1);
}

.carousel-slide.active {
    opacity: 1;
}

/* Carousel Indicators */
.carousel-indicators {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 0.75rem;
    z-index: 10;
}

.indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    transition: all 0.3s ease;
}

.indicator.active {
    background: var(--color-white);
    transform: scale(1.1);
}

.indicator:hover {
    background: rgba(255, 255, 255, 0.8);
}

/* Right Side - Content */
.hero-content {
    display: flex;
    align-items: center;
    padding: 3rem;
    background: var(--color-white);
}

.hero-text {
    max-width: 500px;
}

.hero-subtitle {
    display: block;
    font-size: 1.125rem;
    font-weight: 500;
    color: var(--color-primary);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.hero-main-title {
    display: block;
    font-size: 3.5rem;
    font-weight: 700;
    color: var(--color-dark);
    margin-bottom: 1.5rem;
    line-height: 1.1;
}

.hero-description {
    font-size: 1.125rem;
    color: var(--color-gray);
    margin-bottom: 2.5rem;
    line-height: 1.6;
}

.hero-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

/* Buttons - Reduced color intensity */
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.875rem 2rem;
    border-radius: var(--border-radius);
    text-decoration: none;
    font-weight: 600;
    font-size: 1rem;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
}

.btn-primary {
    background: var(--color-primary);
    color: var(--color-white);
    box-shadow: var(--shadow-md);
}

.btn-primary:hover {
    background: #1e40af;
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.btn-secondary {
    background: var(--color-light);
    color: var(--color-dark);
    border: 2px solid #e5e7eb;
}

.btn-secondary:hover {
    background: #f1f5f9;
    border-color: var(--color-primary);
    transform: translateY(-2px);
}

.btn-large {
    padding: 1rem 2.5rem;
    font-size: 1.125rem;
}

.btn-icon {
    font-size: 1.25rem;
}

/* Section Header */
.section-header {
    text-align: center;
    margin-bottom: 3rem;
}

.section-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--color-dark);
    margin-bottom: 1rem;
}

.section-header p {
    font-size: 1.125rem;
    color: var(--color-gray);
    max-width: 600px;
    margin: 0 auto;
}

/* Features Section */
.features-section {
    padding: 5rem 0;
    background: var(--color-white);
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
}

.feature-card {
    text-align: center;
    padding: 2rem;
    border-radius: var(--border-radius-lg);
    background: var(--color-white);
    box-shadow: var(--shadow-md);
    transition: all 0.3s ease;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
}

.feature-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.feature-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-dark);
    margin-bottom: 1rem;
}

.feature-card p {
    color: var(--color-gray);
    line-height: 1.6;
}

/* Packages Section */
.packages-section {
    padding: 5rem 0;
    background: var(--color-light);
}

.packages-preview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.package-preview-card {
    background: var(--color-white);
    border-radius: var(--border-radius-lg);
    overflow: hidden;
    box-shadow: var(--shadow-md);
    transition: all 0.3s ease;
}

.package-preview-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl);
}

.package-preview-image {
    position: relative;
    height: 200px;
    overflow: hidden;
}

.package-preview-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.package-preview-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-primary);
    color: var(--color-white);
    font-size: 3rem;
}

.package-preview-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
}

.badge-text {
    background: rgba(0, 0, 0, 0.8);
    color: var(--color-white);
    padding: 0.5rem 1rem;
    border-radius: 2rem;
    font-size: 0.875rem;
    font-weight: 600;
}

.package-preview-content {
    padding: 1.5rem;
}

.package-preview-content h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-dark);
    margin-bottom: 1rem;
}

.package-preview-features {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
}

.feature {
    background: var(--color-light);
    color: var(--color-gray);
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    font-size: 0.875rem;
    font-weight: 500;
}

.package-preview-price {
    text-align: center;
    margin-bottom: 1.5rem;
}

.price-label {
    display: block;
    font-size: 0.875rem;
    color: var(--color-gray);
    margin-bottom: 0.25rem;
}

.price-amount {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-primary);
}

.price-currency {
    font-size: 1rem;
    color: var(--color-gray);
    margin-left: 0.25rem;
}

.packages-cta {
    text-align: center;
}

/* Testimonials Section */
.testimonials-section {
    padding: 5rem 0;
    background: var(--color-white);
}

.testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.testimonial-card {
    background: var(--color-light);
    padding: 2rem;
    border-radius: var(--border-radius-lg);
    border-left: 4px solid var(--color-primary);
}

.testimonial-content p {
    font-style: italic;
    color: var(--color-dark);
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.testimonial-author {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.author-avatar {
    width: 3rem;
    height: 3rem;
    background: var(--gradient-primary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-white);
    font-size: 1.25rem;
}

.author-info h4 {
    font-weight: 600;
    color: var(--color-dark);
    margin-bottom: 0.25rem;
}

.author-info span {
    font-size: 0.875rem;
    color: var(--color-gray);
}

/* CTA Section */
.cta-section {
    padding: 5rem 0;
    background: var(--gradient-primary);
    color: var(--color-white);
}

.cta-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
}

.cta-content h2 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.cta-content p {
    font-size: 1.125rem;
    margin-bottom: 2rem;
    opacity: 0.9;
}

.cta-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .hero-container {
        grid-template-columns: 1fr;
        min-height: auto;
    }
    
    .hero-photos {
        height: 50vh;
        border-radius: 0;
    }
    
    .hero-content {
        padding: 2rem;
        text-align: center;
    }
    
    .hero-text {
        max-width: 100%;
    }
    
    .hero-main-title {
        font-size: 2.5rem;
    }
    
    .hero-actions {
        justify-content: center;
    }
}

@media (max-width: 768px) {
    .hero-photos {
        height: 40vh;
    }
    
    .hero-content {
        padding: 1.5rem;
    }
    
    .hero-main-title {
        font-size: 2rem;
    }
    
    .hero-description {
        font-size: 1rem;
    }
    
    .hero-actions {
        flex-direction: column;
        align-items: center;
    }
    
    .btn-large {
        width: 100%;
        max-width: 300px;
        justify-content: center;
    }
    
    .section-header h2 {
        font-size: 2rem;
    }
    
    .features-grid {
        grid-template-columns: 1fr;
    }
    
    .packages-preview {
        grid-template-columns: 1fr;
    }
    
    .testimonials-grid {
        grid-template-columns: 1fr;
    }
    
    .cta-actions {
        flex-direction: column;
        align-items: center;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 0 0.5rem;
    }
    
    .hero-main-title {
        font-size: 2rem;
    }
    
    .btn-large {
        padding: 0.875rem 2rem;
        font-size: 1rem;
    }
 }
 </style>
 {% endblock %}

{% block javascripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const slides = document.querySelectorAll('.carousel-slide');
    const indicators = document.querySelectorAll('.indicator');
    let currentSlide = 0;
    
    // Function to show a specific slide
    function showSlide(index) {
        // Remove active class from all slides and indicators
        slides.forEach(slide => slide.classList.remove('active'));
        indicators.forEach(indicator => indicator.classList.remove('active'));
        
        // Add active class to current slide and indicator
        slides[index].classList.add('active');
        indicators[index].classList.add('active');
        
        currentSlide = index;
    }
    
    // Function to go to next slide
    function nextSlide() {
        const next = (currentSlide + 1) % slides.length;
        showSlide(next);
    }
    
    // Auto-advance slides every 6 seconds
    setInterval(nextSlide, 6000);
    
    // Add click handlers to indicators
    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            showSlide(index);
        });
    });
    
    // Optional: Add swipe support for mobile
    let startX = 0;
    let endX = 0;
    
    const heroSection = document.querySelector('.hero-section');
    
    heroSection.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
    });
    
    heroSection.addEventListener('touchend', (e) => {
        endX = e.changedTouches[0].clientX;
        handleSwipe();
    });
    
    function handleSwipe() {
        const threshold = 50; // Minimum swipe distance
        const diff = startX - endX;
        
        if (Math.abs(diff) > threshold) {
            if (diff > 0) {
                // Swipe left - next slide
                nextSlide();
            } else {
                // Swipe right - previous slide
                const prev = (currentSlide - 1 + slides.length) % slides.length;
                showSlide(prev);
            }
        }
    }
});
</script>
{% endblock %} 